
SET(SRC_LIST *.c)
list(REMOVE_ITEM SRC_LIST cs_di_demo.c)
list(REMOVE_ITEM SRC_LIST cs_dl_demo.c)
list(REMOVE_ITEM SRC_LIST cs_ci_demo.c)
list(REMOVE_ITEM SRC_LIST cs_cl_demo.c)

include_directories(. "${PROJECT_SOURCE_DIR}/src/cxsparse")

foreach(test ${SRC_LIST} )
    string( REPLACE ".c" "" executable ${test} )
    if("${test}" MATCHES "cs_di_*")
      add_executable( ${executable} ${test} )
      target_link_libraries( ${executable} cxsparse_di)
    elseif("${test}" MATCHES "cs_dl_*")
      add_executable( ${executable} ${test} )
      target_link_libraries( ${executable} cxsparse_dl)
    elseif("${test}" MATCHES "cs_ci_*")
      add_executable( ${executable} ${test} )
      target_link_libraries( ${executable} cxsparse_zi)
    elseif("${test}" MATCHES "cs_cl_*")
      add_executable( ${executable} ${test} )
      target_link_libraries( ${executable} cxsparse_zi)
    endif("${test}" MATCHES "cs_di_*")
endforeach (test)
